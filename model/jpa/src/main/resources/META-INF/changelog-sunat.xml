<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <changeSet author="admin (generated)" id="1485186462797-1">
        <createTable tableName="BAJA_NOTE">
            <column name="BAJA_ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="VALUE" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-2">
        <createTable tableName="PERCEPTION">
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_TIMESTAMP" type="timestamp"/>
            <column name="DOCUMENT_CURRENCY_CODE" type="VARCHAR(255)"/>
            <column name="DOCUMENT_ID" type="VARCHAR(255)"/>
            <column name="ENTITY_ADDRESS" type="VARCHAR(255)"/>
            <column name="ENTITY_DOCUMENT_NUMBER" type="VARCHAR(255)"/>
            <column name="ENTITY_DOCUMENT_TYPE" type="VARCHAR(255)"/>
            <column name="ENTITY_EMAIL" type="VARCHAR(255)"/>
            <column name="ENTITY_NAME" type="VARCHAR(255)"/>
            <column name="ISSUE_DATE" type="timestamp"/>
            <column name="NOTE" type="VARCHAR(255)"/>
            <column name="ORGANIZATION_ID" type="VARCHAR(255)"/>
            <column name="SUNAT_PERCEPTION_PERCENT" type="DECIMAL(19, 2)"/>
            <column name="SUNAT_PERCEPTION_SYSTEM_CODE" type="VARCHAR(255)"/>
            <column name="SUNAT_TOTAL_CASHED" type="DECIMAL(19, 2)"/>
            <column name="TOTAL_PERCEPTION_AMOUNT" type="DECIMAL(19, 2)"/>
            <column name="XML_FILE_ID" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-3">
        <createTable tableName="PERCEPTION_LINE">
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CHANGE_ISSUE_DATE" type="timestamp"/>
            <column name="PERCEPTION_ISSUE_DATE" type="timestamp"/>
            <column name="PERCEPTION_PAYEMENT_NUMBER" type="VARCHAR(255)"/>
            <column name="RELATED_DOCUMENT_CURRENCY" type="VARCHAR(255)"/>
            <column name="RELATED_DOCUMENT_NUMBER" type="VARCHAR(255)"/>
            <column name="RELATED_DOCUMENT_TYPE" type="VARCHAR(255)"/>
            <column name="RELATED_ISSUE_DATE" type="timestamp"/>
            <column name="SUNAT_NET_CASHED" type="DECIMAL(19, 2)"/>
            <column name="SUNAT_NET_PERCEPTION_AMOUNT" type="DECIMAL(19, 2)"/>
            <column name="TOTAL_DOCUMENT_RELATED" type="DECIMAL(19, 2)"/>
            <column name="TOTAL_PERCEPTION_PAYMENT" type="DECIMAL(19, 2)"/>
            <column name="TYPE_CHANGE" type="DECIMAL(19, 2)"/>
            <column name="PERCEPTION_ID" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-4">
        <createTable tableName="PERCEPTION_REQUIRED_ACTION">
            <column name="REQUIRED_ACTION" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="PERCEPTION_ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-5">
        <createTable tableName="RETENTION">
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_TIMESTAMP" type="timestamp"/>
            <column name="CUSTOMIZATION_ID" type="VARCHAR(255)"/>
            <column name="DOCUMENT_CURRENCY_CODE" type="VARCHAR(255)"/>
            <column name="DOCUMENT_ID" type="VARCHAR(255)"/>
            <column name="ENTITY_ADDRESS" type="VARCHAR(255)"/>
            <column name="ENTITY_DOCUMENT_NUMBER" type="VARCHAR(255)"/>
            <column name="ENTITY_DOCUMENT_TYPE" type="VARCHAR(255)"/>
            <column name="ENTITY_EMAIL" type="VARCHAR(255)"/>
            <column name="ENTITY_NAME" type="VARCHAR(255)"/>
            <column name="ISSUE_DATE" type="timestamp"/>
            <column name="NOTE" type="VARCHAR(255)"/>
            <column name="ORGANIZATION_ID" type="VARCHAR(255)"/>
            <column name="SUNAT_RETENTION_PERCENT" type="DECIMAL(19, 2)"/>
            <column name="SUNAT_RETENTION_SYSTEM_CODE" type="VARCHAR(255)"/>
            <column name="SUNAT_TOTAL_CASHED" type="DECIMAL(19, 2)"/>
            <column name="TOTAL_RETENTION_AMOUNT" type="DECIMAL(19, 2)"/>
            <column name="UBL_VERSIONID" type="VARCHAR(255)"/>
            <column name="XML_DOCUMENT" type="BLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-6">
        <createTable tableName="RETENTION_LINE">
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CHANGE_ISSUE_DATE" type="timestamp"/>
            <column name="RELATED_DOCUMENT_CURRENCY" type="VARCHAR(255)"/>
            <column name="RELATED_DOCUMENT_NUMBER" type="VARCHAR(255)"/>
            <column name="RELATED_DOCUMENT_TYPE" type="VARCHAR(255)"/>
            <column name="RELATED_ISSUE_DATE" type="timestamp"/>
            <column name="RETENTION_ISSUE_DATE" type="timestamp"/>
            <column name="RETENTION_PAYEMENT_NUMBER" type="VARCHAR(255)"/>
            <column name="SUNAT_NET_CASHED" type="DECIMAL(19, 2)"/>
            <column name="SUNAT_NET_RETENTION_AMOUNT" type="DECIMAL(19, 2)"/>
            <column name="TOTAL_DOCUMENT_RELATED" type="DECIMAL(19, 2)"/>
            <column name="TOTAL_RETENTION_PAYMENT" type="DECIMAL(19, 2)"/>
            <column name="TYPE_CHANGE" type="DECIMAL(19, 2)"/>
            <column name="RETENTION_ID" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-7">
        <createTable tableName="RETENTION_REQUIRED_ACTION">
            <column name="REQUIRED_ACTION" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="RETENTION_ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-8">
        <createTable tableName="SUMMARY_DOCUMENTS">
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_TIMESTAMP" type="timestamp"/>
            <column name="CUSTOMIZATIONID" type="VARCHAR(255)"/>
            <column name="DOCUMENT_CURRENCY_CODE" type="VARCHAR(255)"/>
            <column name="DOCUMENT_ID" type="VARCHAR(255)"/>
            <column name="ISSUE_DATE" type="date"/>
            <column name="ORGANIZATION_ID" type="VARCHAR(255)"/>
            <column name="REFERENCE_DATE" type="date"/>
            <column name="UBL_VERSIONID" type="VARCHAR(255)"/>
            <column name="XML_DOCUMENT" type="BLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-9">
        <createTable tableName="SUMMARY_DOCUMENTS_REQUIRED_ACTION">
            <column name="REQUIRED_ACTION" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="SUMMARY_DOCUMENTS_ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-10">
        <createTable tableName="SUNAT_SEND_EVENT">
            <column name="TYPE" type="VARCHAR(31)">
                <constraints nullable="false"/>
            </column>
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_TIMESTAMP" type="timestamp"/>
            <column name="DESCRIPTION" type="VARCHAR(400)"/>
            <column name="DESTINY_TYPE" type="VARCHAR(255)"/>
            <column name="RESULT" type="VARCHAR(255)"/>
            <column name="SEND_TYPE" type="VARCHAR(255)"/>
            <column name="RETENTION_ID" type="VARCHAR(255)"/>
            <column name="PERCEPTION_ID" type="VARCHAR(255)"/>
            <column name="SUMMARY_DOCUMENT_ID" type="VARCHAR(255)"/>
            <column name="VOIDED_ID" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-11">
        <createTable tableName="SUNAT_SEND_EVENT_FILE_ATTATCHMENT">
            <column name="SEND_EVENT_ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="VALUE" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-12">
        <createTable tableName="SUNAT_SEND_EVENT_FILE_RESPONSE_ATTATCHMENT">
            <column name="SEND_EVENT_ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="VALUE" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-13">
        <createTable tableName="VOIDED_DOCUMENTS">
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="CREATED_TIMESTAMP" type="timestamp"/>
            <column name="CUSTOMIZATION_ID" type="VARCHAR(255)"/>
            <column name="DOCUMENT_ID" type="VARCHAR(255)"/>
            <column name="ISSUE_DATE" type="timestamp"/>
            <column name="ORGANIZATION_ID" type="VARCHAR(255)"/>
            <column name="UBL_VERSION_ID" type="VARCHAR(255)"/>
            <column name="XML_DOCUMENT" type="BLOB"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-14">
        <createTable tableName="VOIDED_DOCUMENTS_LINE">
            <column name="ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="DOCUMENT_NUMBER_ID" type="VARCHAR(255)"/>
            <column name="DOCUMENT_SERIAL_ID" type="VARCHAR(255)"/>
            <column name="DOCUMENT_TYPE_CODE" type="VARCHAR(255)"/>
            <column name="LINE_ID" type="VARCHAR(255)"/>
            <column name="VOID_REASON_DESCRIPTION" type="VARCHAR(255)"/>
            <column name="VOIDED_DOCUMENT_ID" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-15">
        <createTable tableName="VOIDED_DOCUMENTS_REQUIRED_ACTION">
            <column name="REQUIRED_ACTION" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="VOIDED_DOCUMENTS_ID" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-16">
        <addPrimaryKey columnNames="ID" constraintName="PERCEPTIONPK" tableName="PERCEPTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-17">
        <addPrimaryKey columnNames="ID" constraintName="PERCEPTION_LINEPK" tableName="PERCEPTION_LINE"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-18">
        <addPrimaryKey columnNames="REQUIRED_ACTION, PERCEPTION_ID" constraintName="PERCEPTION_REQUIRED_ACTIONPK"
                       tableName="PERCEPTION_REQUIRED_ACTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-19">
        <addPrimaryKey columnNames="ID" constraintName="RETENTIONPK" tableName="RETENTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-20">
        <addPrimaryKey columnNames="ID" constraintName="RETENTION_LINEPK" tableName="RETENTION_LINE"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-21">
        <addPrimaryKey columnNames="REQUIRED_ACTION, RETENTION_ID" constraintName="RETENTION_REQUIRED_ACTIONPK"
                       tableName="RETENTION_REQUIRED_ACTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-22">
        <addPrimaryKey columnNames="ID" constraintName="SUMMARY_DOCUMENTSPK" tableName="SUMMARY_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-23">
        <addPrimaryKey columnNames="REQUIRED_ACTION, SUMMARY_DOCUMENTS_ID"
                       constraintName="SUMMARY_DOCUMENTS_REQUIRED_ACTIONPK"
                       tableName="SUMMARY_DOCUMENTS_REQUIRED_ACTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-24">
        <addPrimaryKey columnNames="ID" constraintName="SUNAT_SEND_EVENTPK" tableName="SUNAT_SEND_EVENT"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-25">
        <addPrimaryKey columnNames="ID" constraintName="VOIDED_DOCUMENTSPK" tableName="VOIDED_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-26">
        <addPrimaryKey columnNames="ID" constraintName="VOIDED_DOCUMENTS_LINEPK" tableName="VOIDED_DOCUMENTS_LINE"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-27">
        <addPrimaryKey columnNames="REQUIRED_ACTION, VOIDED_DOCUMENTS_ID"
                       constraintName="VOIDED_DOCUMENTS_REQUIRED_ACTIONPK"
                       tableName="VOIDED_DOCUMENTS_REQUIRED_ACTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-28">
        <addUniqueConstraint columnNames="ORGANIZATION_ID, DOCUMENT_ID" tableName="PERCEPTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-29">
        <addUniqueConstraint columnNames="ORGANIZATION_ID, DOCUMENT_ID" tableName="RETENTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-30">
        <addUniqueConstraint columnNames="ORGANIZATION_ID, DOCUMENT_ID" tableName="SUMMARY_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-31">
        <addUniqueConstraint columnNames="ORGANIZATION_ID, DOCUMENT_ID" tableName="VOIDED_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-32">
        <addForeignKeyConstraint baseColumnNames="SEND_EVENT_ID" baseTableName="SUNAT_SEND_EVENT_FILE_ATTATCHMENT"
                                 constraintName="FK_1drt6a1yc850e81cay9bo9ujm" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="SUNAT_SEND_EVENT"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-33">
        <addForeignKeyConstraint baseColumnNames="SUMMARY_DOCUMENT_ID" baseTableName="SUNAT_SEND_EVENT"
                                 constraintName="FK_5nr44ire2g16bk9t2uua19vyg" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="SUMMARY_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-34">
        <addForeignKeyConstraint baseColumnNames="PERCEPTION_ID" baseTableName="PERCEPTION_REQUIRED_ACTION"
                                 constraintName="FK_dfx92lnxj0l62h5noricfr0mg" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID" referencedTableName="PERCEPTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-35">
        <addForeignKeyConstraint baseColumnNames="RETENTION_ID" baseTableName="RETENTION_LINE"
                                 constraintName="FK_en2486pm96a68vmcww5rs3lwl" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID" referencedTableName="RETENTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-36">
        <addForeignKeyConstraint baseColumnNames="VOIDED_DOCUMENTS_ID" baseTableName="VOIDED_DOCUMENTS_REQUIRED_ACTION"
                                 constraintName="FK_ffhbj2fahl1nmcy4rnoo9pee4" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="VOIDED_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-37">
        <addForeignKeyConstraint baseColumnNames="RETENTION_ID" baseTableName="RETENTION_REQUIRED_ACTION"
                                 constraintName="FK_ibmr3h0hccidcj17fagoe84be" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID" referencedTableName="RETENTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-38">
        <addForeignKeyConstraint baseColumnNames="RETENTION_ID" baseTableName="SUNAT_SEND_EVENT"
                                 constraintName="FK_m2kgmktjhn3gc3wd55ef8moj2" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID" referencedTableName="RETENTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-39">
        <addForeignKeyConstraint baseColumnNames="BAJA_ID" baseTableName="BAJA_NOTE"
                                 constraintName="FK_ok3t4528a7eq789ufcvkptiuw" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="VOIDED_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-40">
        <addForeignKeyConstraint baseColumnNames="VOIDED_DOCUMENT_ID" baseTableName="VOIDED_DOCUMENTS_LINE"
                                 constraintName="FK_panh01llfjcycxpqmjdnadh3r" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="VOIDED_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-41">
        <addForeignKeyConstraint baseColumnNames="PERCEPTION_ID" baseTableName="PERCEPTION_LINE"
                                 constraintName="FK_puk2893n3snc76072pyeflk0q" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID" referencedTableName="PERCEPTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-42">
        <addForeignKeyConstraint baseColumnNames="PERCEPTION_ID" baseTableName="SUNAT_SEND_EVENT"
                                 constraintName="FK_ro2fokyyme1h7n681x0igaeqt" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID" referencedTableName="PERCEPTION"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-43">
        <addForeignKeyConstraint baseColumnNames="SEND_EVENT_ID"
                                 baseTableName="SUNAT_SEND_EVENT_FILE_RESPONSE_ATTATCHMENT"
                                 constraintName="FK_rpv2j5mh6rj3cgfa6cviuhbld" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="SUNAT_SEND_EVENT"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-44">
        <addForeignKeyConstraint baseColumnNames="VOIDED_ID" baseTableName="SUNAT_SEND_EVENT"
                                 constraintName="FK_sfab9sleqqyffxp0ghtnj90m0" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="VOIDED_DOCUMENTS"/>
    </changeSet>
    <changeSet author="admin (generated)" id="1485186462797-45">
        <addForeignKeyConstraint baseColumnNames="SUMMARY_DOCUMENTS_ID"
                                 baseTableName="SUMMARY_DOCUMENTS_REQUIRED_ACTION"
                                 constraintName="FK_tgfc9ol460gsvxsgdll7q5gbn" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="ID"
                                 referencedTableName="SUMMARY_DOCUMENTS"/>
    </changeSet>
</databaseChangeLog>
